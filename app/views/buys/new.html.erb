<div class="grid grid-cols-1 md:grid-cols-3 gap-6 px-6 py-4">
  <!-- Stock Listings Left -->
  <div class="bg-gray-800 text-white rounded-lg shadow-md p-6 col-span-1 md:col-span-2 h-full overflow-auto">
    <h2 class="text-2xl font-semibold mb-4 text-yellow-300">Stock Listings</h2>
    <table class="w-full table-auto text-left">
      <thead>
        <tr class="border-b border-gray-600">
          <th class="py-2 text-gray-400">Symbol</th>
          <th class="py-2 text-gray-400">Company</th>
          <th class="py-2 text-gray-400">Price</th>
          <th class="py-2 text-gray-400">Action</th>
        </tr>
      </thead>
      <tbody>
        <% @stocks.each do |stock| %>
          <tr class="border-b border-gray-700 hover:bg-gray-700/50">
            <td class="py-5 font-bold text-white"><%= stock[:symbol] %></td>
            <td class="text-gray-300"><%= stock[:name] %></td>
            <td class="text-green-400">$<%= stock[:last_price] %></td>
            <td>
              <%= link_to "Select", new_buy_with_symbol_path(symbol: stock[:symbol], price: stock[:last_price]), method: :get, class: "bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded text-sm" %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <!-- Buy Stocks Right -->
  <div class="col-span-1 space-y-6">
    <!-- Balance / Holdings Section -->
    <div class="bg-gray-700 p-4 rounded-lg shadow-md text-white">
      <h2 class="text-xl font-semibold text-yellow-300">Total Assets</h2>
      <p class="mt-2">Wallet: <%= number_to_currency(@balance) %></p>
    </div>

    <!-- Buy Form -->
    <div class="bg-gray-700 p-4 rounded-lg shadow-md text-white">
      <h2 class="text-xl font-semibold mb-4 text-yellow-300">Buy Stock</h2>

      <%= form_with url: buys_path, method: :post, local: true do |form| %>
  <div class="mb-4">
    <%= form.label :symbol, "Selected Stock", class: "block text-sm font-medium mb-1 text-gray-300" %>
    <%= form.text_field :symbol, value: @selected_symbol, class: "w-full bg-gray-900 text-white border border-gray-600 rounded-md px-3 py-2", readonly: true %>
  </div>

  <div class="mb-4">
    <%= form.label :price, "Buy Price", class: "block text-sm font-medium mb-1 text-gray-300" %>
    <%= form.text_field :price, value: number_with_precision(@selected_price.to_f, precision: 2), class: "w-full bg-gray-900 text-white border border-gray-600 rounded-md px-3 py-2", readonly: true %>
  </div>

  <div class="mb-4">
    <%= form.label :quantity, "Quantity", class: "block text-sm font-medium mb-1 text-gray-300" %>
    <%= form.number_field :quantity, min: 1, value: @max_quantity, class: "w-full bg-gray-900 text-white border border-gray-600 rounded-md px-3 py-2", required: true %>
  </div>

  <div class="flex justify-end">
    <%= form.submit "Buy", class: "bg-green-500 hover:bg-green-600 text-gray-900 px-4 py-2 rounded-md font-semibold cursor-pointer" %>
  </div>
<% end %>

    </div>
  </div>
</div>
